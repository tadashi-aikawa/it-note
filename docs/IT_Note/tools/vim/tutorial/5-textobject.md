# [VimT1] テキストオブジェクト

まとまりを表すモノ。 `想定時間: 10分`

オペレータの範囲に幅を持たせる用途[^2]で使います。モーションのように単独では使えません。

`di"`と押してみましょう。`d`は削除オペレータですが...

```txt
▼
I play tennis with "Ichiro" every day!
```

`i"`は`ダブルクォーテーションの内側(inner ")`というまとまりを指すテキストオブジェクトです。

[^2]: オペレータのためだけに存在するわけではない


`a`と`i`
--------

テキストオブジェクトはほぼ必ず[^1]`a`か`i`から始まります。

* `i`は内側。`inner`の略
* `a`は外側を含む。`a`そのまま

私は`inside`と`around`の方がしっくり来ました。

`da"`と押して、`di"`との挙動が違うことを確認しましょう。

```txt
▼
I play tennis with "Ichiro" every day!
```

[^1]: https://vim-jp.org/vimdoc-ja/motion.html#text-objects の記載には全てついている


オススメテキストオブジェクト
----------------------------

`a`と`i`は省略します。

| テキストオブジェクト |           意味           |               備考               |
| -------------------- | ------------------------ | -------------------------------- |
| `w`                  | 単語                     | wordの略                         |
| `W`                  | 空白で区切られたブロック | wordの略                         |
| `p`                  | 段落                     | paragraphの略                    |
| `"`                  | `""`の範囲               | 現在行の次に出現する範囲が対象   |
| `'`                  | `''`の範囲               | 現在行の次に出現する範囲が対象   |
| `)`                  | `()`の範囲               | 現在位置が`()`内であることが必要 |
| `]`                  | `[]`の範囲               | 現在位置が`()`内であることが必要 |
| `}`                  | `{}`の範囲               | 現在位置が`{}`内であることが必要 |


よく使うオペレータ+テキストオブジェクト
---------------------------------------

実践的な操作をしてみましょう。

### Change inner word ---> `ciw`

単語を変更するため、`ciw`と入力してからそのまま好きな単語を書いてみましょう。

```txt
        ▼
I like Vim the most in the world.
```

### Change inner "..." ---> `ci"`

ダブルクォーテーションの中身を変更するため、`ci"`と入力してからそのまま好きな単語を書いてみましょう。

```txt
▼
I like "Vim" the most in the world.
```

### Delete a "..." ---> `da"`

ダブルクォーテーションで囲まれた単語をダブルクォーテーションごと消すために、`da"`と入力してみましょう。

```txt
▼
I like "Vim" the most in the world.
```

`c`は`i`と、`d`は`a`と連携することが多いです。

### Delete a paragraph ---> `dap`

main関数を削除するため、`dap`と入力してみましょう。

```python
#!/bin/env python

def main():
     ▼
    print("hogehoge")
    pass

main()
```

### Yank a {...} ---> `ya}`

`{}`で囲まれた部分を`{}`を含めてyankするため、`ya}`と入力してみましょう。

```json
{
  "id": 1,
  "name": "Ichiro",
  "favorite": {
        "food": ["apple", "orange"],
        ▼
        "animal": ["dog", "cat"],
  }
}
```

好きなところに移動して`p`を押すと貼り付けられます。

---
description: TypeScript3.1のリリース内容まとめ
---

# [TypeScript] 3.1

{{ page.meta.description }}

## [Mapped types on tuples and arrays]

[Mapped types on tuples and arrays]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-1.html#mapped-types-on-tuples-and-arrays

{{label('not_necessary')}} {{label('easy')}}

[mapped types]でArrayやTupleを指定したときの挙動が変わった。  
たとえば以下のコードがあるとする。

```typescript
type Stringify<T> = { [K in keyof T]: string };
type TwoElementTuple = [unknown, unknown];

declare let hoge: Stringify<TwoElementTuple>;
```

TypeScript3.1以前と3.1以降では以下の様に推論される型が異なる。

|                        | 3.1以前                         | 3.1以降       |
| ---------------------- | ------------------------------- | ------------- |
| `[K in keyof T]`の対象 | indexだけでなくmethodなども含む | **indexだけ** |
| `hoge.0`の型           | string                          | string        |
| `hoge.concat`の型      | string                          | **method**    |

[mapped types]の用途を考えれば、methodなどのプロパティは型変換されない方が望ましい。

=== "TypeScript3.0のhogeに対する補完"
    ![](resources/86a39338.png)

=== "TypeScript3.1のhogeに対する補完"
    ![](resources/a6906336.png)


[mapped types]: ../2.1/#mapped-types

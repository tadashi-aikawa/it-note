---
description: TypeScript3.5のリリース内容まとめ
---

# [TypeScript] 3.5

{{ page.meta.description }}


## [Speed improvements]

[Speed improvements]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-5.html#speed-improvements

{{label('not_necessary')}} {{label('easy')}}

型チェックとインクリメンタルビルドのスピードがアップした。  
`--incremental`のビルド時間は、v3.4と比べて最大68%削減されたらしい。


## [The Omit helper type]

[The Omit helper type]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-5.html#the-omit-helper-type

{{label('should')}} {{label('easy')}}

型ヘルパー`Omit`が追加された。

```typescript
type Classes = {
  a: string;
  b: string;
  c: string;
};

type OmitC = Omit<Classes, "c">
// Classesからプロパティcを抜いたものになる
// { a: string, b: string } と等価
```

## [Improved excess property checks in union types]

[Improved excess property checks in union types]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-5.html#improved-excess-property-checks-in-union-types

{{label('had_better')}} {{label('easy')}}

Union Typeの曖昧だった型チェックが強化された。

=== "v3.4"
    ```typescript
    type Point = {
      x: number;
      y: number;
    };

    type Label = {
      name: string;
    };

    const thing: Point | Label = {
      x: 0,
      y: 9,
      // stringではなくbooleanでも通ってしまう
      name: true,
    };
    ```

=== "v3.5"
    ```typescript
    type Point = {
      x: number;
      y: number;
    };

    type Label = {
      name: string;
    };

    const thing: Point | Label = {
      x: 0,
      y: 9,
      // stringではなくbooleanだとエラーになる (string | undefinedならOK)
      name: true,
    }
    ```


## [The --allowUmdGlobalAccess flag]

[The --allowUmdGlobalAccess flag]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-5.html#the---allowumdglobalaccess-flag

{{label('unknown')}} {{label('can_not_understand')}}

`--allowUmdGlobalAccess`フラグをつけるとUMDのグローバル宣言を参照できるようになった。


## [Smarter union type checking]

[Smarter union type checking]: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-5.html#smarter-union-type-checking

{{label('had_better')}} {{label('easy')}}

union typeの判定がより正確になった。  
v3.4まではエラーとなっていた以下のコードが通るようになった。

```typescript
type WrapBool = { value: boolean; };
type WrapLikeBool = { value: true } | { value: false };

declare let bool: WrapBool;
declare let likeBool: WrapLikeBool;

// v3.4までだと falseにboolは代入できない..!! というエラーになる
// valueをbooleanとみなしてくれない
likeBool = bool;
```

以下のようにObjectでラップされていないUnion Typeは以前から問題ない。

```typescript
type LikeBool = true | false;

declare let bool: boolean;
declare let likeBool: LikeBool;

likeBool = bool;
```
